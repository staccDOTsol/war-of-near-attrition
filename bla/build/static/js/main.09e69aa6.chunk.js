(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{149:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(4),n(2);var a=n(69),o=(n(153),n(6),function(e){if(e)return new Date(e.toNumber())});new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),new a.b.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new a.b.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs")}).call(this,n(11).Buffer)},226:function(e,t){},231:function(e,t){},247:function(e,t){},248:function(e,t){},315:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);var a,o,r,c,i,s,b,l,u,d,j,x,p,O,f,g=n(0),h=n(29),m=n.n(h),w=n(13),v=n(4),y=n(10),S=n(42),k=n(2),M=n.n(k),C=n(37),I=n(32),P=n.n(I),B=(n(204),n(213)),T=n(205),L=n(391),N=n(398),A=n(392),D=n(397),F=n(395),W=n(149),G=n(386),E=n(390),z=n(123),U=n(14),H=Object(C.default)(G.a)(a||(a=Object(S.a)(["\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n"]))),R=function(e){var t=e.onMint,n=e.isMinting,a=Object(z.useGateway)(),o=(a.requestGatewayToken,a.gatewayStatus),r=Object(g.useState)(!1),c=Object(y.a)(r,2),i=c[0],s=c[1],b=Object(g.useState)(!1),l=Object(y.a)(b,2),u=(l[0],l[1]);return Object(g.useEffect)((function(){u(!1),o===z.GatewayStatus.COLLECTING_USER_INFORMATION&&i?u(!0):o===z.GatewayStatus.ACTIVE&&i&&(console.log("Verified human, now minting..."),t(),s(!1))}),[o,i,s,t]),Object(U.jsx)(H,{disabled:i,onClick:Object(v.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Minting..."),e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),variant:"contained",children:n||i?Object(U.jsx)(E.a,{}):"Gib Near Get f3d"})},J=(n(161),n(124)),V=n.n(J),_=n(212),q=n(393),K=n(394),Y=(n(315),n(97));n(353);var X,Z=Object(_.a)({palette:{type:"dark"},overrides:{MuiButtonBase:{root:{justifyContent:"flex-start"}},MuiButton:{root:{textTransform:void 0,padding:"12px 16px"},startIcon:{marginRight:8},endIcon:{marginLeft:8}}}}),Q=(C.default.div(o||(o=Object(S.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: right;\n"]))),C.default.div(r||(r=Object(S.a)(["\n  color: black;\n  padding: 5px 5px 5px 16px;\n  border-radius: 42px;\n  background-color: var(--main-text-color);\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  line-height: 1.75;\n  text-transform: uppercase;\n  border: 0;\n  margin: 0;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: flex-start;\n  gap: 10px;\n"]))),C.default.ul(c||(c=Object(S.a)(["\n  flex: 0 0 auto;\n  margin: 0;\n  padding: 0;\n"]))),Object(C.default)(B.a)(i||(i=Object(S.a)(["\n  border-radius: 18px !important;\n  padding: 6px 16px;\n  background-color: #4E44CE;\n  margin: 0 auto;\n"]))),Object(C.default)(L.a)(s||(s=Object(S.a)(["\n  min-width: 500px;\n  margin: 0 auto;\n  padding: 5px 20px 20px 20px;\n  flex: 1 1 auto;\n  background-color: var(--card-background-color) !important;\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22) !important;\n"])))),$=(Object(C.default)(L.a)(b||(b=Object(S.a)(["\n  display: inline-block;\n  background-color: var(--countdown-background-color) !important;\n  margin: 5px;\n  min-width: 40px;\n  padding: 24px;\n  h1{\n    margin:0px;\n  }\n"]))),C.default.div(l||(l=Object(S.a)(["\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\n    color: #464646;\n  }\n\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\n    -webkit-animation: pulse 1s;\n    animation: pulse 1s;\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n  }\n\n  @-webkit-keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n"])))),ee=(C.default.a(u||(u=Object(S.a)(["\n  color: var(--title-text-color);\n  border-bottom: 1px solid var(--title-text-color);\n  font-weight: bold;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  outline: none;\n  text-decoration: none;\n  text-size-adjust: 100%;\n\n  :hover {\n    border-bottom: 2px solid var(--title-text-color);\n  }\n"]))),C.default.div(d||(d=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 4%;\n  margin-left: 4%;\n  text-align: center;\n  justify-content: center;\n"])))),te=C.default.div(j||(j=Object(S.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),ne=C.default.div(x||(x=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  gap: 20px;\n"]))),ae=Object(C.default)(N.a)(p||(p=Object(S.a)(["\n  position: absolute;\n  margin: 5px;\n  font-weight: bold;\n  font-size: 1.2em !important;\n  font-family: 'Patrick Hand', cursive !important;\n"]))),oe=C.default.img(O||(O=Object(S.a)(["\n  height: 400px;\n  width: auto;\n  border-radius: 7px;\n  box-shadow: 5px 5px 40px 5px rgba(0,0,0,0.5);\n"]))),re=(Object(C.default)(A.a)(f||(f=Object(S.a)(["\n  margin: 20px;\n  height: 10px !important;\n  border-radius: 30px;\n  border: 2px solid white;\n  box-shadow: 5px 5px 40px 5px rgba(0,0,0,0.5);\n  background-color:var(--main-text-color) !important;\n  \n  > div.MuiLinearProgress-barColorPrimary{\n    background-color:var(--title-text-color) !important;\n  }\n\n  > div.MuiLinearProgress-bar1Determinate {\n    border-radius: 30px !important;\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\n  }\n"]))),V()(3).times(Math.pow(10,13)).toFixed()),ce=function(e){var t=Object(g.useState)(new P.a(1)),n=Object(y.a)(t,2),a=(n[0],n[1]),o=Object(g.useState)(),r=Object(y.a)(o,2),c=r[0],i=r[1],s=Object(g.useState)(!1),b=Object(y.a)(s,2),l=b[0],u=b[1],d=Object(g.useState)(!1),j=Object(y.a)(d,2),x=(j[0],j[1],Object(g.useState)("")),p=Object(y.a)(x,2),O=(p[0],p[1],Object(g.useState)(0)),f=Object(y.a)(O,2),h=f[0],m=f[1],S=Object(g.useState)(0),k=Object(y.a)(S,2),C=(k[0],k[1],Object(g.useState)(0)),I=Object(y.a)(C,2),B=(I[0],I[1],Object(g.useState)(!1)),L=Object(y.a)(B,2),N=(L[0],L[1],Object(g.useState)(!1)),A=Object(y.a)(N,2),G=(A[0],A[1],Object(g.useState)(0)),E=Object(y.a)(G,2),z=(E[0],E[1],Object(g.useState)("SOL")),J=Object(y.a)(z,2),_=(J[0],J[1],Object(g.useState)(0)),ce=Object(y.a)(_,2),ie=(ce[0],ce[1],Object(g.useState)(!1)),se=Object(y.a)(ie,2),be=(se[0],se[1],Object(g.useState)(!1)),le=Object(y.a)(be,2),ue=(le[0],le[1],Object(g.useState)(0)),de=Object(y.a)(ue,2),je=(de[0],de[1],Object(g.useState)(!1)),xe=Object(y.a)(je,2),pe=(xe[0],xe[1]),Oe=Object(g.useState)(),fe=Object(y.a)(Oe,2),ge=fe[0],he=fe[1],me=Object(g.useState)(!1),we=Object(y.a)(me,2),ve=(we[0],we[1],Object(g.useState)(!1)),ye=Object(y.a)(ve,2),Se=(ye[0],ye[1],Object(g.useState)(138)),ke=Object(y.a)(Se,2),Me=ke[0],Ce=ke[1],Ie=Object(g.useState)(.138),Pe=Object(y.a)(Ie,2),Be=Pe[0],Te=Pe[1],Le=Object(g.useState)("h3xmaybe"),Ne=Object(y.a)(Le,2),Ae=Ne[0],De=Ne[1],Fe=Object(g.useState)(0),We=Object(y.a)(Fe,2),Ge=We[0],Ee=We[1],ze=Object(g.useState)(),Ue=Object(y.a)(ze,2),He=(Ue[0],Ue[1],Object(g.useState)(1)),Re=Object(y.a)(He,2),Je=Re[0],Ve=Re[1],_e=Object(g.useState)(),qe=Object(y.a)(_e,2),Ke=(qe[0],qe[1],Object(g.useState)()),Ye=Object(y.a)(Ke,2),Xe=Ye[0],Ze=Ye[1],Qe={networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:"f3d.near",walletUrl:"https://wallet.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org"},$e=new Y.keyStores.BrowserLocalStorageKeyStore;function et(){return(et=Object(v.a)(M.a.mark((function e(){var t,n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.connect(Object(w.a)({keyStore:$e},Qe));case 2:if(t=e.sent,n=new Y.WalletConnection(t),console.log(n),!n.getAccountId()){e.next=19;break}return e.t0=n.getAccountId(),e.next=9,n.account().state();case 9:return e.t1=e.sent.amount,a={accountId:e.t0,balance:e.t1},Ze(a),console.log(a),e.next=15,new Y.Contract(n.account(),Qe.contractName,{viewMethods:["totalSupply","balanceOf","howLong","allowance","getCountDown","getwinner","getWinBet"],changeMethods:["init","transfer","approve","transferFrom","becomeWinner","withdraw","mint"],sender:n.getAccountId()});case 15:X=e.sent,console.log(X),e.next=20;break;case 19:n.requestSignIn("f3d.near","f3d");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tt=Object(g.useState)({open:!1,message:"",severity:void 0}),nt=Object(y.a)(tt,2),at=nt[0],ot=nt[1];function rt(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(v.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=.1*t,X.mint({account_id:Xe.accountId},re,V()(n).times(Math.pow(10,24)).toFixed());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(){return(it=Object(v.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,X.becomeWinner({tokens:V()(Je).times(Math.pow(10,17)).toFixed(),account_id:Xe.accountId},re,Je/2);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(){var e=Object(v.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,rt(Me);case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),t=e.t0.msg||"Minting failed! Please try again!",e.t0.msg?311===e.t0.code?t="SOLD OUT!":312===e.t0.code&&(t="Minting period hasn't started yet."):e.t0.message?e.t0.message.indexOf("0x138")||(e.t0.message.indexOf("0x137")?t="SOLD OUT!":e.t0.message.indexOf("0x135")&&(t="Insufficient funds to mint. Please fund your wallet.")):t="Transaction Timeout! Please try again.",ot({open:!0,message:t,severity:"error"});case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,6,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){Object(v.a)(M.a.mark((function e(){var t,n,o,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(Xe),!Xe){e.next=43;break}return e.next=4,X.totalSupply();case 4:return t=e.sent,console.log(t),m(Math.floor(t/Math.pow(10,17)*1e3)/1e3),e.next=9,X.getCountDown();case 9:return n=e.sent,a(n),console.log(n),e.next=14,X.getWinBet();case 14:return o=e.sent,Te(Math.floor(o/Math.pow(10,17)*1e3)/1e3),e.next=18,X.getwinner();case 18:return r=e.sent,De(r),e.next=22,X.balanceOf({tokenOwner:"f3d.near"});case 22:return c=e.sent,console.log(c),console.log(c),console.log(c),console.log(c),console.log(c),console.log(c),console.log(c),Ee(Math.floor(.75*c/Math.pow(10,17)*1e3)/1e3),e.next=33,X.balanceOf({tokenOwner:Xe.accountId});case 33:c=e.sent,console.log(c),console.log(c),console.log(c),console.log(c),console.log(c),console.log(c),console.log(c),i(Math.floor(c/Math.pow(10,17)*1e3)/1e3),he(Object(W.a)(new P.a(n/1e3)));case 43:case"end":return e.stop()}}),e)})))()}),[Xe]),Object(U.jsx)(q.a,{theme:Z,children:Object(U.jsxs)("main",{children:[Object(U.jsx)(ee,{children:Object(U.jsx)(te,{children:Object(U.jsx)(ne,{children:Object(U.jsxs)(Q,{elevation:3,children:[Object(U.jsx)("h2",{children:"A Totally Fair Game"}),Object(U.jsx)("h3",{children:"wen timer runs out, the last person to becomeWinner gets 3/4 of pot <3"}),Object(U.jsx)("h3",{children:"pot: f3d tokens and NEAR on the contract. Nice!"}),Object(U.jsx)("h4",{children:"yet, whenever someone becomesWinner the timer resets to now+seven days :)"}),Object(U.jsx)("h4",{children:"btw? hodling? supply burned 2% on mint n transfer :)"}),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{children:[Object(U.jsx)(ae,{label:"0.1 NEAR per f3d - btw the cats pointless"}),Object(U.jsx)(oe,{src:"cool-cats.gif",alt:"NFT To Mint"})]}),Object(U.jsx)("br",{}),ge&&Object(U.jsx)(T.a,{date:ge,onMount:function(e){return e.completed&&pe(!0)},onComplete:function(){pe(!0)},renderer:function(e){var t=e.days,n=e.hours,a="";return t>0&&(a+=t+" days "),n>0&&(a+=n+" hours "),a+=e.minutes+1+" minutes left to becomeWinner.",Object(U.jsx)("div",{children:Object(U.jsx)("h3",{children:a})})}}),Object(U.jsxs)("h3",{children:["TOTAL SUPPLY : ",h]}),Object(U.jsx)("br",{}),Object(U.jsx)($,{children:Xe?Object(U.jsxs)("div",{children:["How many buy? ",Object(U.jsx)("br",{}),Object(U.jsx)(K.a,{onChange:function(e){e.preventDefault(),Ce(parseFloat(e.target.value))},placeholder:"138"}),Object(U.jsx)("br",{}),Object(U.jsx)(R,{isMinting:l,onMint:st})]}):Object(U.jsx)(H,{onClick:function(){return et.apply(this,arguments)},children:"Login yo"})}),Object(U.jsx)("br",{}),Object(U.jsxs)($,{children:[" ",Xe&&Object(U.jsxs)("div",{children:[Object(U.jsx)("br",{}),Ae," winning :) ",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"Your bags: ",c," ",Object(U.jsx)("br",{}),"Pot: ",Ge," ",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"How many deposit?",Object(U.jsx)("br",{}),Object(U.jsx)(K.a,{onChange:function(e){e.preventDefault(),Ve(parseFloat(e.target.value))},placeholder:"138"}),Object(U.jsxs)(H,{onClick:function(){return it.apply(this,arguments)},children:["Become winner @ > ",Be," ?"]})," "]})]}),Object(U.jsx)("br",{})]})})})}),Object(U.jsx)(D.a,{open:at.open,autoHideDuration:6e3,onClose:function(){return ot(Object(w.a)(Object(w.a)({},at),{},{open:!1}))},children:Object(U.jsx)(F.a,{onClose:function(){return ot(Object(w.a)(Object(w.a)({},at),{},{open:!1}))},severity:at.severity,children:at.message})}),Object(U.jsx)(ee,{children:Object(U.jsx)(te,{children:Object(U.jsx)(ne,{children:Object(U.jsx)(Q,{children:"Psst... rightclick save I'm tired of fucking with CSS"})})})}),Object(U.jsx)(ee,{children:Object(U.jsx)(te,{children:Object(U.jsx)(ne,{children:Object(U.jsx)(Q,{style:{width:"80%"},children:Object(U.jsx)("img",{src:"/1.png",width:"77%"})})})})}),Object(U.jsx)(ee,{children:Object(U.jsx)(te,{children:Object(U.jsx)(ne,{children:Object(U.jsx)(Q,{style:{width:"80%"},children:Object(U.jsx)("img",{src:"/2.png",width:"77%",height:"90%"})})})})})]})})};m.a.render(Object(U.jsx)(ce,{}),document.getElementById("root"))}},[[354,1,2]]]);
//# sourceMappingURL=main.09e69aa6.chunk.js.map